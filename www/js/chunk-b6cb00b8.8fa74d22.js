(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-b6cb00b8"],{2209:function(t,e,s){},"2f21":function(t,e,s){"use strict";var a=s("79e5");t.exports=function(t,e){return!!t&&a(function(){e?t.call(null,function(){},1):t.call(null)})}},"35a4":function(t,e,s){},"41ac":function(t,e,s){"use strict";var a=s("35a4"),n=s.n(a);n.a},"456d":function(t,e,s){var a=s("4bf8"),n=s("0d58");s("5eda")("keys",function(){return function(t){return n(a(t))}})},"4ec4":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("el-select",{attrs:{value:t.$t(t.typeName+"."+t.value)},on:{input:function(e){t.change(e)}}},t._l(t.typeOptions,function(e){return s("el-option",{key:e.value,attrs:{label:t.$t(t.typeName+"."+e.label),value:e.value}})}),1)},n=[],l={props:{value:{default:0},typeOptions:{type:Array,default:function(){return[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"}]}},typeName:{type:String,default:"type"}},methods:{change:function(t){this.$emit("change",t)}}},i=l,o=s("2877"),c=Object(o["a"])(i,a,n,!1,null,null,null);e["a"]=c.exports},"55dd":function(t,e,s){"use strict";var a=s("5ca1"),n=s("d8e8"),l=s("4bf8"),i=s("79e5"),o=[].sort,c=[1,2,3];a(a.P+a.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!s("2f21")(o)),"Array",{sort:function(t){return void 0===t?o.call(l(this)):o.call(l(this),n(t))}})},"5eda":function(t,e,s){var a=s("5ca1"),n=s("8378"),l=s("79e5");t.exports=function(t,e){var s=(n.Object||{})[t]||Object[t],i={};i[t]=e(s),a(a.S+a.F*l(function(){s(1)}),"Object",i)}},"64c7":function(t,e,s){"use strict";var a=s("2209"),n=s.n(a);n.a},"67b0":function(t,e,s){"use strict";var a=s("6aeb"),n=s.n(a);n.a},"6aeb":function(t,e,s){},"89d1":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"paging"},[s("el-pagination",{staticClass:"pages",attrs:{background:"",small:"",layout:"total,prev, pager, next, jumper",total:t.pager.total,"current-page":t.pager.page,"page-size":t.pager.rows,"pager-count":5},on:{"update:currentPage":function(e){t.$set(t.pager,"page",e)},"size-change":t.onChangeSize,"current-change":t.onChangePage}})],1)},n=[],l={props:["pager"],computed:{total:function(){return this.pager.total},initBack:function(){return this.pager.total/this.pager.rows<this.pager.page}},watch:{total:function(){this.initBack&&(this.pager.page-=1,this.$emit("change"))}},methods:{onChangeSize:function(t){this.pager.rows=t,this.$emit("change")},onChangePage:function(t){this.pager.page=t,this.$emit("change")}}},i=l,o=(s("41ac"),s("2877")),c=Object(o["a"])(i,a,n,!1,null,null,null);e["a"]=c.exports},c5cc:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"consensus"},[s("div",{staticClass:"top-chart w1200 "},[s("div",{staticClass:"chart_title"},[s("h2",{staticClass:"fl font18"},[t._v(t._s(t.$t("consensus.consensus0")))]),s("div",{staticClass:"fr"},[s("div",{staticClass:"font16"},[s("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home4"))+":")]),t._v(" "+t._s(t.circulation)+"K\n          "),s("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home2"))+":")]),t._v(" "+t._s(t.consensusTotal)+" K\n          "),s("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("consensus.consensus1"))+":")]),t._v(" "+t._s(t.nodeing)+"\n          "),s("span",{staticClass:"font12 capitalize"},[t._v(t._s(t.$t("home.home1"))+":")]),t._v(" "+t._s(t.node)+"\n        ")]),s("div",{staticClass:"chart_bt"},[s("div",{staticClass:"chart_bt1"},[s("el-button",{staticClass:"btn capitalize",class:1===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(1)}}},[t._v("\n              "+t._s(t.$t("public.week"))+"\n            ")]),s("el-button",{staticClass:"btn capitalize",class:2===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(2)}}},[t._v("\n              "+t._s(t.$t("public.month"))+"\n            ")]),s("el-button",{staticClass:"btn capitalize",class:3===t.timeRate?"btn_N":"",attrs:{type:"text"},on:{click:function(e){t.changeDate(3)}}},[t._v("\n              "+t._s(t.$t("public.year"))+"\n            ")])],1)])])]),s("div",{staticClass:"chart_info"},[s("ve-line",{staticStyle:{top:"-20px"},attrs:{height:"330px",data:t.chartData,"legend-visible":!1,colors:t.colors,settings:t.chartSettings,loading:t.timeRateDataLoading}})],1)]),s("div",{staticClass:"info bg-gray"},[s("el-tabs",{staticClass:"w1200 tab_consensus",on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:t.$t("consensus.consensus2"),name:"first"}},[s("ConsensusList")],1),s("el-tab-pane",{attrs:{label:t.$t("consensus.consensus3"),name:"second"}},[s("div",{staticClass:"cards"},[s("ul",{staticClass:"cards-ul"},[s("li",{staticClass:"cards-li fl"},[s("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus4")))]),s("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.index))])]),s("li",{staticClass:"cards-li fl"},[s("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus5")))]),s("h5",{staticClass:"font18 fW600 tc fCN"},[t._v(t._s(t.roundInfo.names))])]),s("li",{staticClass:"cards-li fl"},[s("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus6")))]),s("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.memberCount))])]),s("li",{staticClass:"cards-li fl"},[s("h6",{staticClass:"font14"},[t._v(t._s(t.$t("consensus.consensus7")))]),s("h5",{staticClass:"font18 fW600 tc"},[t._v(t._s(t.roundInfo.startTime)+"--"+t._s(t.roundInfo.endTime))])])])]),s("div",{staticClass:"cards-title font14 cb"},[t._v(t._s(t.$t("consensus.consensus8")))]),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.roundList,stripe:"",border:""}},[s("el-table-column",{attrs:{label:"",width:"30"}}),s("el-table-column",{attrs:{label:t.$t("public.round"),width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"cursor-p click",on:{click:function(s){t.toUrl("rotationInfo",e.row.index)}}},[t._v(t._s(e.row.index))])]}}])}),s("el-table-column",{attrs:{label:t.$t("consensus.consensus9"),"min-width":"280",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.startTime)+"----"+t._s(e.row.endTime))])]}}])}),s("el-table-column",{attrs:{prop:"memberCount",label:t.$t("consensus.consensus10"),width:"150",align:"left"}}),s("el-table-column",{attrs:{label:t.$t("public.yellowCard")+"/"+t.$t("public.redCard"),width:"180",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.yellowCardCount)+"-"+t._s(e.row.redCardCount))])]}}])}),s("el-table-column",{attrs:{prop:"producedBlockCount",label:t.$t("consensus.consensus11"),width:"150",align:"left"}}),s("el-table-column",{attrs:{prop:"lostRate",label:t.$t("public.lostRate"),width:"150",align:"left"}})],1),s("paging",{attrs:{pager:t.pager},on:{change:t.pagesList}})],1)],1)],1)])},n=[],l=(s("96cf"),s("3b8d")),i=(s("ac4d"),s("8a81"),s("ac6a"),s("c32d")),o=s.n(i),c=s("901e"),r=s("89d1"),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.nodeListLoading,expression:"nodeListLoading"}],staticClass:"c_list"},[s("div",{staticClass:"c_list_search"},[s("div",{staticClass:"type_select fl"},[s("SelectBar",{attrs:{typeOptions:t.nodeTypeOptions,typeName:"nodeType"},on:{change:t.changeNodeType},model:{value:t.nodeTypeRegion,callback:function(e){t.nodeTypeRegion=e},expression:"nodeTypeRegion"}})],1),s("div",{staticClass:"status_select fl"},[s("SelectBar",{attrs:{typeOptions:t.nodeStatusOptions,typeName:"nodeStatus"},on:{change:t.changeNodeStatus},model:{value:t.nodeStatusRegion,callback:function(e){t.nodeStatusRegion=e},expression:"nodeStatusRegion"}})],1),s("div",{staticClass:"search_input"},[s("el-input",{staticClass:"search",attrs:{placeholder:t.$t("consensus.search"),"suffix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}}),s("i",{staticClass:"iconfont fr click",class:t.viewList?"icon-list_icon":"icon-chart_icon",on:{click:function(e){t.viewList=!t.viewList}}})],1)]),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.viewList,expression:"!viewList"}],staticClass:"c_tabs"},[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.searchData,stripe:"",border:""}},[s("el-table-column",{attrs:{label:"",width:"30"}}),s("el-table-column",{attrs:{label:"ID","min-width":"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"cursor-p click uppercase",on:{click:function(s){t.toUrl("consensusInfo",e.row.txHash)}}},[t._v(t._s(e.row.agentId))])]}}])}),s("el-table-column",{attrs:{label:t.$t("public.alias"),width:"250",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v(t._s(e.row.agentAlias?e.row.agentAlias:"-"))])]}}])}),s("el-table-column",{attrs:{prop:"creditValue",label:t.$t("public.creditValue"),width:"150",align:"left"}}),s("el-table-column",{attrs:{label:t.$t("public.proportion"),width:"100",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.commissionRate)+"%")]}}])}),s("el-table-column",{attrs:{label:t.$t("public.bond")+"("+t.symbol+")",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.deposit))]}}])}),s("el-table-column",{attrs:{label:t.$t("public.entrust")+"("+t.symbol+")",width:"150",align:"left"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"cursor-p click uppercase",on:{click:function(s){t.toUrl("consensusInfo",e.row.txHash,"three")}}},[t._v(t._s(e.row.totalDeposit))])]}}])}),s("el-table-column",{attrs:{prop:"depositCount",label:t.$t("public.participants"),width:"150",align:"left"}})],1)],1),s("div",{directives:[{name:"show",rawName:"v-show",value:t.viewList,expression:"viewList"}],staticClass:"card-info"},t._l(t.searchData,function(e){return s("div",{key:e.agentId,staticClass:"card fl click",on:{click:function(s){t.toUrl("consensusInfo",e.txHash)}}},[s("h3",{staticClass:"tabs_title tabs_infos",class:e.agentAlias?"":"uppercase"},[t._v("\n        "+t._s(e.agentAlias?e.agentAlias:e.agentId)+"\n        "),s("i",{staticClass:"iconfont fr font18",class:"0"!==e.status.toString()?"icon-consensus_icon":"icon-wait_red_icon"})]),s("ul",[s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.alias"))),s("span",{staticClass:"fr"},[t._v(t._s(e.agentAlias?e.agentAlias:"-"))])]),s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.proportion"))),s("span",{staticClass:"fr"},[t._v(t._s(e.commissionRate)+"%")])]),s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.bond"))),s("span",{staticClass:"fr"},[t._v(t._s(e.deposit)),s("label",{staticClass:"fCN"},[t._v(" "+t._s(t.symbol))])])]),s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.participants"))),s("span",{staticClass:"fr"},[t._v(t._s(e.depositCount))])]),s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.entrust"))),s("span",{staticClass:"fr"},[t._v(t._s(e.totalDeposit)),s("label",{staticClass:"fCN"},[t._v(" "+t._s(t.symbol))])])]),s("li",{staticClass:"font12 fl"},[t._v(t._s(t.$t("public.creditValue"))),s("span",{staticClass:"fr"},[t._v(t._s(e.creditValue))])])])])}),0)])},d=[],p=(s("55dd"),s("c5f6"),s("456d"),s("4ec4")),f=s("6ace"),h={data:function(){return{viewList:!0,nodeTypeOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],nodeTypeRegion:0,nodeStatusOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],nodeStatusRegion:0,nodeList:[],nodeListLoading:!0,searchValue:"",pager:{total:0,page:1,rows:200},symbol:sessionStorage.hasOwnProperty("symbol")?sessionStorage.getItem("symbol"):"NULS"}},components:{SelectBar:p["a"]},created:function(){this.getConsensusNodes(this.pager.page,this.pager.rows,this.nodeStatusRegion)},computed:{searchData:function(){var t=this.searchValue;return t?this.nodeList.filter(function(e){return Object.keys(e).some(function(s){return String(e[s]).toLowerCase().indexOf(t.toLowerCase())>-1})}):this.nodeList}},methods:{getConsensusNodes:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,s,a){var n=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$post("/","getConsensusNodes",[e,s,a]).then(function(t){if(t.hasOwnProperty("result")){var e=!0,s=!1,a=void 0;try{for(var l,i=t.result.list[Symbol.iterator]();!(e=(l=i.next()).done);e=!0){var o=l.value;o.deposit=Object(f["f"])(o.deposit,8),o.bozhengjin=o.deposit,o.totalDeposit=Number(Object(f["f"])(o.totalDeposit,8)).toFixed(2)}}catch(c){s=!0,a=c}finally{try{e||null==i.return||i.return()}finally{if(s)throw a}}n.nodeList=t.result.list,n.nodeListLoading=!1}}).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(e,s,a){return t.apply(this,arguments)}return e}(),toUrl:function(t,e){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"first";this.$router.push({name:t,query:{hash:e,tabName:s}})},changeNodeType:function(t){switch(this.nodeTypeRegion=parseInt(t),t){case 1:this.nodeTypeSort(this.nodeList,"creditValue");break;case 2:this.nodeTypeSort(this.nodeList,"commissionRate");break;case 3:this.nodeTypeSort(this.nodeList,"totalDeposit");break;case 4:this.nodeTypeSort(this.nodeList,"bozhengjin");break;default:this.getConsensusNodes(this.pager.page,this.pager.rows,0,"")}},changeNodeStatus:function(t){this.nodeStatusRegion=t,this.getConsensusNodes(this.pager.page,this.pager.rows,this.nodeStatusRegion)},nodeTypeSort:function(t,e){var s=function(t){return function(e,s){var a=e[t],n=s[t];return isNaN(Number(a))||isNaN(Number(n))||(a=Number(a),n=Number(n)),a>n?-1:a<n?1:0}};return t.sort(s(e))}}},b=h,v=(s("67b0"),s("2877")),g=Object(v["a"])(b,u,d,!1,null,null,null),m=g.exports,_={data:function(){return this.colors=["#7db46d","#7db46d","#7db46d","#546570","#c4ccd3"],this.chartSettings={yAxisType:["normal"],labelMap:{value:this.$t("public.stake")}},{circulation:0,consensusTotal:0,nodeing:0,node:0,chartData:{columns:[],rows:[]},timeRateDataLoading:!0,timeRate:2,activeName:"first",roundInfo:[],roundList:[],pager:{total:0,page:1,rows:5}}},components:{ConsensusList:m,paging:r["a"]},created:function(){this.getYearRateData(2),this.getRoundInfo(),this.getRoundList(this.pager.page,this.pager.rows)},mounted:function(){var t=this;setInterval(function(){var e=new c["BigNumber"](Object(f["f"])(t.$store.state.NULSNumber.circulation,11));t.circulation=e.toFormat(2);var s=new c["BigNumber"](Object(f["f"])(t.$store.state.NULSNumber.consensusTotal,11));t.consensusTotal=s.toFormat(2),t.nodeing=t.$store.state.nodeNumber.consensusCount,t.node=t.$store.state.nodeNumber.agentCount},100)},methods:{getYearRateData:function(t){var e=this;this.$post("/","getConsensusStatistical",[t]).then(function(t){if(t.hasOwnProperty("result")){var s=!0,a=!1,n=void 0;try{for(var l,i=t.result[Symbol.iterator]();!(s=(l=i.next()).done);s=!0){var o=l.value;o.value=o.value/1e8}}catch(c){a=!0,n=c}finally{try{s||null==i.return||i.return()}finally{if(a)throw n}}e.chartData.columns=["key","value"],e.chartData.rows=t.result,e.timeRateDataLoading=!1}})},changeDate:function(t){this.timeRateDataLoading=!0,this.chartData.columns=[],this.chartData.rows=[],this.timeRate=t,this.getYearRateData(t)},handleClick:function(){},getRoundInfo:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(){var e=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$post("/","getBestRoundInfo",[]).then(function(t){t.hasOwnProperty("result")&&(t.result.startTime=o()(Object(f["c"])(1e3*t.result.startTime)).format("HH:mm:ss"),t.result.endTime=o()(Object(f["c"])(1e3*t.result.endTime)).format("HH:mm:ss"),t.result.names=t.result.startBlockHeader.agentAlias?t.result.startBlockHeader.agentAlias:Object(f["d"])(t.result.startBlockHeader.agentId,8),e.roundInfo=t.result)}).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getRoundList:function(){var t=Object(l["a"])(regeneratorRuntime.mark(function t(e,s){var a=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.$post("/","getRoundList",[e,s]).then(function(t){if(t.hasOwnProperty("result")){var e=!0,s=!1,n=void 0;try{for(var l,i=t.result.list[Symbol.iterator]();!(e=(l=i.next()).done);e=!0){var c=l.value;c.startTime=o()(Object(f["c"])(1e3*c.startTime)).format("YYYY-MM-DD HH:mm:ss"),c.endTime=o()(Object(f["c"])(1e3*c.endTime)).format("YYYY-MM-DD HH:mm:ss")}}catch(r){s=!0,n=r}finally{try{e||null==i.return||i.return()}finally{if(s)throw n}}a.roundList=t.result.list,a.pager.total=t.result.totalCount}}).catch(function(t){console.log(t)});case 1:case"end":return t.stop()}},t,this)}));function e(e,s){return t.apply(this,arguments)}return e}(),pagesList:function(){this.getRoundList(this.pager.page,this.pager.rows)},toUrl:function(t,e){this.$router.push({name:t,query:{rotation:e}})}}},C=_,w=(s("64c7"),Object(v["a"])(C,a,n,!1,null,null,null));e["default"]=w.exports}}]);